CREATE DATABASE `td_tokens`;
CREATE TABLE `token` (
  `id` varchar(40) NOT NULL,
  `name` varchar(45) NOT NULL DEFAULT '0',
  `text` varchar(256) NOT NULL,
  `rarity` varchar(45) NOT NULL,
  `slot` varchar(45) NOT NULL,
  `barbarian` tinyint(1) NOT NULL DEFAULT '0',
  `bard` tinyint(1) NOT NULL DEFAULT '0',
  `cleric` tinyint(1) NOT NULL DEFAULT '0',
  `druid` tinyint(1) NOT NULL DEFAULT '0',
  `fighter` tinyint(1) NOT NULL DEFAULT '0',
  `wizard` tinyint(1) NOT NULL DEFAULT '0',
  `monk` tinyint(1) NOT NULL DEFAULT '0',
  `paladin` tinyint(1) NOT NULL DEFAULT '0',
  `ranger` tinyint(1) NOT NULL DEFAULT '0',
  `rogue` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `token_details` (
  `id` varchar(40) NOT NULL,
  `str` int(11) DEFAULT NULL,
  `dex` int(11) DEFAULT NULL,
  `con` int(11) DEFAULT NULL,
  `intel` int(11) DEFAULT NULL,
  `wis` int(11) DEFAULT NULL,
  `cha` int(11) DEFAULT NULL,
  `health` int(11) DEFAULT NULL,
  `m_hit` int(11) DEFAULT NULL,
  `m_dmg` int(11) DEFAULT NULL,
  `m_fire` tinyint(1) DEFAULT NULL,
  `m_cold` tinyint(1) DEFAULT NULL,
  `m_shock` tinyint(1) DEFAULT NULL,
  `m_sonic` tinyint(1) DEFAULT NULL,
  `m_eldritch` tinyint(1) DEFAULT NULL,
  `m_poison` tinyint(1) DEFAULT NULL,
  `m_darkrift` tinyint(1) DEFAULT NULL,
  `m_sacred` tinyint(1) DEFAULT NULL,
  `m_ac` int(11) DEFAULT NULL,
  `r_hit` int(11) DEFAULT NULL,
  `r_dmg` int(11) DEFAULT NULL,
  `r_fire` tinyint(1) DEFAULT NULL,
  `r_cold` tinyint(1) DEFAULT NULL,
  `r_shock` tinyint(1) DEFAULT NULL,
  `r_sonic` tinyint(1) DEFAULT NULL,
  `r_eldritch` tinyint(1) DEFAULT NULL,
  `r_poison` tinyint(1) DEFAULT NULL,
  `r_darkrift` tinyint(1) DEFAULT NULL,
  `r_sacred` tinyint(1) DEFAULT NULL,
  `r_ac` int(11) DEFAULT NULL,
  `r_acm` int(11) DEFAULT NULL,
  `fort` int(11) DEFAULT NULL,
  `reflex` int(11) DEFAULT NULL,
  `will` int(11) DEFAULT NULL,
  `ret_dmg` varchar(45) DEFAULT NULL,
  `ret_fire` tinyint(1) DEFAULT NULL,
  `ret_cold` tinyint(1) DEFAULT NULL,
  `ret_shock` tinyint(1) DEFAULT NULL,
  `ret_sonic` tinyint(1) DEFAULT NULL,
  `ret_eldritch` tinyint(1) DEFAULT NULL,
  `ret_poison` tinyint(1) DEFAULT NULL,
  `ret_darkrift` tinyint(1) DEFAULT NULL,
  `ret_sacred` tinyint(1) DEFAULT NULL,
  `cbs` tinyint(1) DEFAULT NULL,
  `fm` tinyint(1) DEFAULT NULL,
  `psy` tinyint(1) DEFAULT NULL,
  `s_dmg` int(11) DEFAULT NULL,
  `s_heal` int(11) DEFAULT NULL,
  `s_resist` int(11) DEFAULT NULL,
  `treasure` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `token_details_fk_token` FOREIGN KEY (`id`) REFERENCES `token` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(45) NOT NULL,
  `first_name` varchar(45) NOT NULL,
  `last_name` varchar(45) DEFAULT NULL,
  `locked` int(1) NOT NULL DEFAULT '0',
  `login_attempts` int(11) NOT NULL DEFAULT '0',
  `last_login` datetime DEFAULT NULL,
  `password` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;
CREATE TABLE `user_privilege` (
  `user_id` int(11) NOT NULL,
  `privilege` varchar(45) NOT NULL,
  UNIQUE KEY `user_privilege_uk` (`user_id`,`privilege`),
  CONSTRAINT `user_privilege_fk_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
